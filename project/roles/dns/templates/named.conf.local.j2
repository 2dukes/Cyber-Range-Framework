acl internals {
    172.{{ general.random_byte }}.0.0/24;
    172.{{ general.random_byte | int - 5 }}.0.0/24;
};

view "internal" {
    match-clients { internals; };
    zone "{{ domain_name }}" {
      type master;
      file "/var/bind/db.internal";
    };
};

view "external" {
    match-clients { any; };

    zone "{{ domain_name }}" {
        type master;
        file "/var/bind/db.external";
    };

    // prime the server with knowledge of the root servers
    zone "." {
            type hint;
            file "/var/bind/named.ca";
    };

    // be authoritative for the localhost forward and reverse zones, and for
    // broadcast zones as per RFC 1912

    zone "localhost" {
            type master;
            file "/var/bind/pri/localhost.zone";
    };

    zone "127.in-addr.arpa" {
            type master;
            file "/var/bind/pri/127.zone";
    };

};